import{w as S,r as h}from"./index.6af06895.js";import{a2 as v}from"./scheduler.036c1cd3.js";const d={};function p(e){return e==="local"?localStorage:sessionStorage}function u(e,n,r){const o=r?.serializer??JSON,l=r?.storage??"local";function f(a,i){p(l).setItem(a,o.stringify(i))}if(!d[e]){const a=S(n,t=>{const s=p(l).getItem(e);s&&t(o.parse(s));{const m=c=>{c.key===e&&t(c.newValue?o.parse(c.newValue):null)};return window.addEventListener("storage",m),()=>window.removeEventListener("storage",m)}}),{subscribe:i,set:g}=a;d[e]={set(t){f(e,t),g(t)},update(t){const s=t(v(a));f(e,s),g(s)},subscribe:i}}return d[e]}u("modeOsPrefers",!1);u("modeUserPrefers",void 0);u("modeCurrent",!1);const w="(prefers-reduced-motion: reduce)";function _(){return window.matchMedia(w).matches}const b=h(_(),e=>{{const n=o=>{e(o.matches)},r=window.matchMedia(w);return r.addEventListener("change",n),()=>{r.removeEventListener("change",n)}}});export{u as l,b as p};
